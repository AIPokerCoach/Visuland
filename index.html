<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Immersive Spanish: Visulangâ€™s Mnemonic VR Experience</title>
    <meta name="description" content="Learn Spanish through playful mnemonics in a virtual world! Our innovative method uses vibrant image associations to make language learning fun and effective. Designed for all learners, including those with special needs, we ensure everyone can thrive in their Spanish language journey.">

    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
        body { margin: 0; }
        a-scene { height: 100vh; }
    </style>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>

</head>
<body>
    <a-scene>

        <a-assets>
            <!-- Load images -->
            <script>
                const images = [
                    "Aexplainer1", "Aexplainer2", "Aflag", "Aimage", "Airplane", "Almond", "Ankle", "Apple", "Apron", "Arm", "Art", "Baby", "Bag",
                    "Ball", "Balloon", "Bathroom", "Bear", "Bed", "Bee", "Belt", "Bench", "Bicycle", "Bimage",
                    "Bird", "Boat", "Bone", "Book", "Bottle", "Bowl", "Box", "Bracelet", "Brain",
                    "Bread", "Broom", "Bucket", "Cake", "Candy", "Car", "Carrot", "Castle", "Cat",
                    "Chair", "Cheese", "Cherry", "Chicken", "Chocolate", "Cimage", "Clock", "Coffee", "Coin",
                    "Cold", "Cookie", "Couch", "Cow", "Dimage", "Doctor", "Dog", "Doll", "Door", "Dress",
                    "Duck", "Earring", "Eexplainer1", "Eexplainer2", "Eflag", "Egg", "Eight", "Eimage", "Eye", "Face", "Farm", "Fimage", "Finger", "Fire",
                    "Fish", "Five", "Flour", "Flower", "Fork", "Four", "Fruit", "Garlic", "Gimage", "Glass",
                    "Glove", "Grape", "Green", "Hand", "Hat", "Head", "Health", "Heart", "Heavy",
                    "Help", "Himage", "History", "Hook", "Horse", "Hose", "Hospital", "Hot", "House", 
                    "Husband", "Iexplainer1", "Iexplainer2", "Iflag", "Iimage", "Jimage", "Jug", "Key", "Kimage", "Kite", "Knife", "Large", "Left", "Leg", "Lemon",
                    "Lentil", "Limage", "Lion", "Long", "Luggage", "Man", "Mattress", "Milk", "Mimage", "Mirror",
                    "Money", "Monkey", "Month", "Morning", "Mouse", "Mouth", "Mushroom", "Name",
                    "Nest", "Nimage", "Nine", "North", "Nose", "Oat", "Oexplainer1", "Oexplainer2", "Office", "Oflag", "Oil", "Oimage", "One", "Onion",
                    "Oven", "Owl", "Oxygen", "Pants", "Pear", "Pen", "Pencil", "Pepper", "Pig", "Pimage",
                    "Pink", "Plum", "Pool", "Popcorn", "Purple", "Qimage", "Rabbit", "Rag", "Red", "Rice", "Rimage",
                    "Salt", "Sandal", "Scissors", "Scooter", "Seven", "Shampoo", "Sheep", "Shirt",
                    "Shoe", "Short", "Shovel", "Simage", "Sister", "Six", "Skin", "Small", "Smile", "Snake",
                    "Sock", "Soup", "South", "Spinach", "Spoon", "Strawberry", "Study", "Table",
                    "Taco", "Tea", "Teacher", "Ten", "Three", "Timage", "Toaster", "Tomato", "Tree", 
                    "Triangle", "Truck", "Two", "Uimage", "Vimage", "Wallet", "Want", "Water", "Watermelon", "Wheel", 
                    "White", "Wimage", "Window", "Ximage", "Yellow", "Yimage", "Zexplainer1", "Zexplainer2", "Zflag", "Zimage"
                ];

                images.forEach((img) => {
                    const imgPath = `images/${img}.png`;
                    const imgElement = document.createElement('img');
                    imgElement.setAttribute('id', img.toLowerCase());
                    imgElement.setAttribute('src', imgPath);
                    document.body.appendChild(imgElement);
                });

                const azulejosElement = document.createElement('img');
                azulejosElement.setAttribute('id', 'azulejos');
                azulejosElement.setAttribute('src', 'textures/Azulejos.png'); // Updated path
                document.body.appendChild(azulejosElement);

                const ceilingElement = document.createElement('img');
                ceilingElement.setAttribute('id', 'ceiling');
                ceilingElement.setAttribute('src', 'textures/Ceiling.png'); // Update the path if necessary
                document.body.appendChild(ceilingElement);
            </script>
        </a-assets>

        <!-- Enhanced Camera with Mobile Controls -->
        <a-entity id="cameraRig" movement-controls="fly: true; speed: 0.35" position="-5 1.4 20">
            <a-camera look-controls>
                <a-entity id="left-hand" joystick="hand: left; mode: touch"></a-entity>
                <a-entity id="right-hand" joystick="hand: right; mode: touch"></a-entity>
                <a-cursor color="#FF0000"></a-cursor>
            </a-camera>
        </a-entity>

        <script>
            window.addEventListener('DOMContentLoaded', () => {
                const cameraRig = document.getElementById('cameraRig');
                const camera = document.querySelector('#mainCamera');

                window.addEventListener('wheel', function(event) {
                    const scrollSpeed = 0.5; // Adjust this value to control scroll sensitivity
                    const direction = new THREE.Vector3();
                    camera.object3D.getWorldDirection(direction);

                    const delta = event.deltaY > 0 ? -scrollSpeed : scrollSpeed;
                    const newPosition = cameraRig.object3D.position.clone().add(direction.multiplyScalar(delta));
                    cameraRig.object3D.position.set(newPosition.x, newPosition.y, newPosition.z);
                });
            });
        </script>

        <!-- Floor with Azulejos -->
        <a-plane position="0 0 0" rotation="-90 0 0" width="125" height="125" src="#azulejos" repeat="10 10"></a-plane>
        <a-plane position="0 6 0" rotation="90 0 0" width="125" height="125" src="#ceiling" repeat="10 10"></a-plane>

        <!-- Exterior Walls -->
        <a-box position="-62.5 3 0" width="0.16" height="6" depth="125" color="#F1BF00"></a-box>  <!-- Left Wall -->
        <a-box position="62.5 3 0" width="0.16" height="6" depth="125" color="#F1BF00"></a-box>   <!-- Right Wall -->
        <a-box position="0 3 -62.5" width="125" height="6" depth="0.16" color="#AA151B"></a-box>  <!-- Back Wall -->
        <a-box position="0 3 62.5" width="125" height="6" depth="0.16" color="#AA151B"></a-box>   <!-- Front Wall -->

        <!-- Cubes -->
        <script>
            const spacing = 7.2; // Spacing between cubes
            const rows = 15; // Rows
            const cols = 15; // Columns
            
            for (let i = 0; i < images.length; i++) {
                const x = (i % cols) * spacing - (cols * spacing) / 2 + spacing / 2;
                const z = Math.floor(i / cols) * spacing - (rows * spacing) / 2 + spacing / 2;
                const imgId = images[i].toLowerCase();

                // Create a cube for each image
                const cube = document.createElement('a-box');
                cube.setAttribute('src', `#${imgId}`);
                cube.setAttribute('position', `${x} 3 ${z}`);
                cube.setAttribute('width', '2');
                cube.setAttribute('height', '2');
                cube.setAttribute('depth', '2');
                cube.setAttribute('color', '#F1BF00');
                cube.setAttribute('class', 'clickable');
                cube.setAttribute('sound', 'src: #click-sound; volume: 0.5;');

                // Create text for each cube
                const text = document.createElement('a-text');
                text.setAttribute('value', `Word ${i + 1}`); // Adjust the text as needed
                text.setAttribute('position', `${x} 4 ${z}`); // Slightly above the cube
                text.setAttribute('align', 'center');
                text.setAttribute('color', '#000'); // Set text color
                text.setAttribute('scale', '1 1 1');

                // Append cube and text to the scene
                document.querySelector('a-scene').appendChild(cube);
                document.querySelector('a-scene').appendChild(text);
            }
        </script>

        <!-- Sphere Creation and Adding Content -->
        <script>
            const spherePositions = [
                { x: 0, y: 5, z: -30 }, // Sphere 1
                { x: 10, y: 5, z: -30 }, // Sphere 2
                { x: -10, y: 5, z: -30 }, // Sphere 3
                { x: 0, y: 5, z: -25 }, // Sphere 4
                { x: 10, y: 5, z: -25 }, // Sphere 5
                { x: -10, y: 5, z: -25 } // Sphere 6
            ];

            spherePositions.forEach((pos, index) => {
                const sphere = document.createElement('a-sphere');
                sphere.setAttribute('position', `${pos.x} ${pos.y} ${pos.z}`);
                sphere.setAttribute('radius', '1.5');
                sphere.setAttribute('color', '#A100FF'); // Change color for visibility
                sphere.setAttribute('opacity', '0.5'); // Make it semi-transparent
                sphere.setAttribute('class', 'clickable');
                sphere.setAttribute('sound', 'src: #click-sound; volume: 0.5;');

                // Create text for each sphere
                const sphereText = document.createElement('a-text');
                sphereText.setAttribute('value', `Sphere ${index + 1}`); // Adjust text as necessary
                sphereText.setAttribute('position', `${pos.x} ${pos.y + 2} ${pos.z}`); // Position above the sphere
                sphereText.setAttribute('align', 'center');
                sphereText.setAttribute('color', '#FFF'); // Text color
                sphereText.setAttribute('scale', '1 1 1');

                // Append sphere and text to the scene
                document.querySelector('a-scene').appendChild(sphere);
                document.querySelector('a-scene').appendChild(sphereText);
            });
        </script>

        <a-sound id="click-sound" src="sounds/click.mp3"></a-sound>

        <!-- Lights -->
        <a-light type="ambient" color="#888"></a-light>
        <a-light type="directional" color="#fff" position="-1 1 1" intensity="0.5"></a-light>

        <!-- Sky -->
        <a-sky color="#5E98C0"></a-sky>
    </a-scene>
</body>
</html>
